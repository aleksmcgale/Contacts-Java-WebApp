{"ast":null,"code":"var _jsxFileName = \"/Users/aleksmcgale/Desktop/DestinySolutions/frontend/src/Components/ContactBook.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from \"@material-ui/core/styles\"; //Custom Components\n\nimport ContactTable from './ContactTable';\nimport AddContactDialog from './AddContactDialog';\nimport EditContactDialog from './EditContactDialog';\nconst CONTACTS_REST_API_URL = 'http://localhost:8080/api/';\n\nclass ContactBook extends Component {\n  constructor(props) {\n    super(props);\n\n    this.closeAddContactDialog = () => {\n      this.setState({\n        addContact: false\n      });\n    };\n\n    this.closeEditContactDialog = () => {\n      this.setState({\n        editContact: false\n      });\n    };\n\n    this.openEditContactDialog = row => {\n      this.setState({\n        editContact: true,\n        editItem: row\n      });\n    };\n\n    this.handleAddContact = contact => {\n      axios.post(CONTACTS_REST_API_URL + 'contacts', contact).then(response => {\n        console.log(response);\n        console.log(response.data); //this.setState({contacts: response.data, isLoading: false})\n\n        this.setState(prevState => ({\n          contacts: [response.data, ...prevState.contacts]\n        }));\n      });\n    };\n\n    this.handleEditContact = (contact, data) => {\n      console.log(contact, data);\n      axios.put(CONTACTS_REST_API_URL + 'contacts/' + String(contact.id), data).then(response => {\n        let temp_array = [...this.state.contacts];\n        let index = temp_array.indexOf(contact);\n\n        if (index !== -1) {\n          temp_array.splice(index, 1);\n          this.setState({\n            contacts: temp_array\n          });\n        }\n\n        this.setState(prevState => ({\n          contacts: [response.data, ...prevState.contacts]\n        }));\n      });\n    };\n\n    this.handleDeleteContact = contact => {\n      axios.delete(CONTACTS_REST_API_URL + 'contacts/' + String(contact.id)).then(response => {\n        let temp_array = [...this.state.contacts];\n        var index = temp_array.indexOf(contact);\n\n        if (index !== -1) {\n          temp_array.splice(index, 1);\n          this.setState({\n            contacts: temp_array\n          });\n        }\n      });\n    };\n\n    this.closeAddContactDialog = this.closeAddContactDialog.bind(this);\n    this.openEditContactDialog = this.openEditContactDialog.bind(this);\n    this.state = {\n      isLoading: true,\n      contacts: [],\n      addContact: false,\n      editContact: false,\n      editItem: {},\n      filter_value: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(CONTACTS_REST_API_URL + 'contacts').then(response => {\n      this.setState({\n        contacts: response.data,\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      contacts,\n      isLoading,\n      filter_value\n    } = this.state;\n    let filtered_contacts = contacts.filter(e => e.lastName.includes(filter_value));\n\n    if (isLoading) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 14\n        }\n      }, \"Loading...\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        overflow: 'hidden',\n        paddingRight: '.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      className: classes.margin,\n      label: \"Custom CSS\",\n      variant: \"outlined\",\n      id: \"custom-css-outlined-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      label: \"Search...\",\n      style: {\n        width: '100%',\n        color: 'black'\n      },\n      color: \"secondary\",\n      onChange: e => this.setState({\n        filter_value: e.target.value\n      }),\n      margin: \"normal\",\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      style: {\n        float: 'right',\n        backgroundColor: 'lightgrey',\n        color: 'black'\n      },\n      onClick: () => this.setState({\n        addContact: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, \"Add Contact\"), /*#__PURE__*/React.createElement(AddContactDialog, {\n      open: this.state.addContact,\n      addContact: this.handleAddContact,\n      closeDialog: this.closeAddContactDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(ContactTable, {\n      rows: filtered_contacts,\n      openEdit: this.openEditContactDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(EditContactDialog, {\n      open: this.state.editContact,\n      contact: this.state.editItem,\n      editContact: this.handleEditContact,\n      closeDialog: this.closeEditContactDialog,\n      deleteContact: this.handleDeleteContact,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default ContactBook;","map":{"version":3,"sources":["/Users/aleksmcgale/Desktop/DestinySolutions/frontend/src/Components/ContactBook.js"],"names":["React","Component","axios","TextField","Button","makeStyles","ContactTable","AddContactDialog","EditContactDialog","CONTACTS_REST_API_URL","ContactBook","constructor","props","closeAddContactDialog","setState","addContact","closeEditContactDialog","editContact","openEditContactDialog","row","editItem","handleAddContact","contact","post","then","response","console","log","data","prevState","contacts","handleEditContact","put","String","id","temp_array","state","index","indexOf","splice","handleDeleteContact","delete","bind","isLoading","filter_value","componentDidMount","get","render","filtered_contacts","filter","e","lastName","includes","overflow","paddingRight","classes","margin","width","color","target","value","float","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n//Custom Components\nimport ContactTable from './ContactTable'\nimport AddContactDialog from './AddContactDialog'\nimport EditContactDialog from './EditContactDialog'\n\nconst CONTACTS_REST_API_URL = 'http://localhost:8080/api/';\n\n\nclass ContactBook extends Component {\n  constructor(props){\n    super(props);\n    this.closeAddContactDialog = this.closeAddContactDialog.bind(this);\n    this.openEditContactDialog = this.openEditContactDialog.bind(this);\n    this.state = {\n      isLoading: true,\n      contacts: [],\n      addContact:false,\n      editContact:false,\n      editItem: {},\n      filter_value:''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(CONTACTS_REST_API_URL + 'contacts')\n      .then(response => {\n        this.setState({contacts: response.data, isLoading: false})\n      })\n  }\n\n  closeAddContactDialog = () =>{\n    this.setState({ addContact:false})\n  }\n\n  closeEditContactDialog = () =>{\n    this.setState({editContact: false})\n  }\n\n  openEditContactDialog = (row)=>{\n    this.setState({editContact: true, editItem: row})\n\n  }\n\n  handleAddContact = (contact) =>{\n    axios.post(CONTACTS_REST_API_URL + 'contacts', contact)\n      .then(response => {\n        console.log(response)\n        console.log(response.data)\n        //this.setState({contacts: response.data, isLoading: false})\n        this.setState(prevState=>({\n          contacts: [response.data, ...prevState.contacts]\n        }))\n      })\n  }\n\n  handleEditContact = (contact, data) =>{\n    console.log(contact, data)\n    axios.put(CONTACTS_REST_API_URL + 'contacts/'+ String(contact.id),  data)\n      .then(response => {\n        let temp_array = [...this.state.contacts];\n        let index = temp_array.indexOf(contact)\n        if (index !== -1) {\n          temp_array.splice(index, 1);\n          this.setState({\n            contacts: temp_array\n          })\n        }\n        this.setState(prevState=>({\n          contacts: [response.data, ...prevState.contacts]\n        }))\n\n\n      })\n\n  }\n\n\n  handleDeleteContact = (contact) =>{\n    axios.delete(CONTACTS_REST_API_URL + 'contacts/'+ String(contact.id) )\n      .then(response => {\n        let temp_array = [...this.state.contacts];\n        var index = temp_array.indexOf(contact)\n        if (index !== -1) {\n          temp_array.splice(index, 1);\n          this.setState({\n            contacts: temp_array\n          })\n        }\n      })\n  }\n\n  render() {\n    const {contacts, isLoading, filter_value} = this.state;\n    let filtered_contacts  = contacts.filter(e => e.lastName.includes(filter_value))\n    if (isLoading) {\n      return <p>Loading...</p>;\n    }\n\n    return (\n      <div>\n        <div>\n          <div style={{overflow:'hidden', paddingRight:'.5em'}}>\n            <TextField\n              className={classes.margin}\n              label=\"Custom CSS\"\n              variant=\"outlined\"\n              id=\"custom-css-outlined-input\"\n            />\n            <TextField label=\"Search...\" style={{width: '100%',color:'black'}} color=\"secondary\" onChange={(e)=>this.setState({filter_value:e.target.value})} margin=\"normal\" variant=\"outlined\"  />\n\n\n          </div>\n          <Button variant=\"contained\" style={{float:'right', backgroundColor:'lightgrey',color:'black'}}  onClick={()=>this.setState({ addContact:true})} >\n            Add Contact\n          </Button>\n          <AddContactDialog open={this.state.addContact} addContact={this.handleAddContact} closeDialog={this.closeAddContactDialog}/>\n        </div>\n        <ContactTable rows={filtered_contacts} openEdit={this.openEditContactDialog}/>\n        <EditContactDialog open={this.state.editContact} contact={this.state.editItem} editContact={this.handleEditContact} closeDialog={this.closeEditContactDialog} deleteContact={this.handleDeleteContact}/>\n      </div>\n\n    );\n  }\n}\n\nexport default ContactBook;\n"]},"metadata":{},"sourceType":"module"}